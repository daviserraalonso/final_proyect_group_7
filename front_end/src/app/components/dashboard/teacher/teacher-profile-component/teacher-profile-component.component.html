<div class="container">
    <div class="row">
      <!-- Main content -->
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 main-content">
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">Dashboard del Profesor</h1>
        </div>
  
        <!-- Profile Section -->
        <mat-card class="mb-4 id=profileSection">
          <mat-card-header>
            <mat-card-title class="large-title">Perfil del Profesor</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div class="row">
              <div class="col-md-4 d-flex justify-content-center">
                <img [src]="teacherProfile.photoUrl" class="img-fluid rounded-circle" alt="Foto del Profesor" style="width: 150px; height: 150px;">
              </div>
              <div class="col-md-8">
                <div class="row mb-2">
                  <div class="col-1">
                    <mat-icon>person</mat-icon>
                  </div>
                  <div class="col-11">
                    <strong>Nombre:</strong> {{ teacherProfile.name }}
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-1">
                    <mat-icon>email</mat-icon>
                  </div>
                  <div class="col-11">
                    <strong>Email:</strong> {{ teacherProfile.email }}
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-1">
                    <mat-icon>phone</mat-icon>
                  </div>
                  <div class="col-11">
                    <strong>Teléfono:</strong> {{ teacherProfile.phone }}
                  </div>
                </div>
                <div class="row mb-2">
                  <div class="col-1">
                    <mat-icon>home</mat-icon>
                  </div>
                  <div class="col-11">
                    <strong>Dirección:</strong> {{ teacherProfile.address }}
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
  
        <!-- Students Section -->
        <mat-card class="mb-4">
          <mat-card-header>
            <a class="navbar-brand" [routerLink]="['/student-list']">
              <mat-card-title>Alumnos Inscritos</mat-card-title>
            </a>
          </mat-card-header>
          <mat-card-content>
            <div class="table-responsive">
              <table mat-table [dataSource]="students" class="mat-elevation-z8">
                <ng-container matColumnDef="name">
                  <th mat-header-cell *matHeaderCellDef> Alumno </th>
                  <td mat-cell *matCellDef="let student"> {{ student.name }} </td>
                </ng-container>
  
                <ng-container matColumnDef="progress">
                  <th mat-header-cell *matHeaderCellDef> Progreso </th>
                  <td mat-cell *matCellDef="let student">
                    <div class="progress">
                      <div class="progress-bar" role="progressbar" [style.width.%]="student.progress" [attr.aria-valuenow]="student.progress" aria-valuemin="0" aria-valuemax="100">{{ student.progress }}%</div>
                    </div>
                  </td>
                </ng-container>
  
                <ng-container matColumnDef="actions">
                  <th mat-header-cell *matHeaderCellDef> Acciones </th>
                  <td mat-cell *matCellDef="let student">
                    <button mat-button color="primary" class="btn btn-primary btn-sm">Enviar Correo</button>
                  </td>
                </ng-container>
  
                <tr mat-header-row *matHeaderRowDef="['name', 'progress', 'actions']"></tr>
                <tr mat-row *matRowDef="let row; columns: ['name', 'progress', 'actions'];"></tr>
              </table>
            </div>
          </mat-card-content>
        </mat-card>
  
        <!-- Messages Section -->
        <mat-card class="mb-4">
          <mat-card-header>
            <mat-card-title class="mb-4">Mensajes recientes</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div class="list-group">
              <div *ngFor="let message of messages" class="list-group-item list-group-item-action d-flex align-items-start">
                <div class="me-3">
                  <mat-icon>message</mat-icon>
                </div>
                <div>
                  <h5 class="mb-1">{{ message.subject }}</h5>
                  <p class="mb-1">{{ message.content }}</p>
                </div>
              </div>
            </div>
            <button mat-button color="primary" class="mt-3" (click)="openMessageDialog()">Enviar Nuevo Mensaje</button>
          </mat-card-content>
        </mat-card>
  
     <!-- Calendar Section -->
     <mat-card class="mb-4">
      <mat-card-header class="d-flex align-items-center">
        <mat-icon class="me-2">event</mat-icon>
        <mat-card-title>Calendario</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>Aquí puedes gestionar tus eventos y citas.</p>
        <div class="form-group mt-3">
          <label for="datepicker">Selecciona una fecha</label>
          <input type="date" class="form-control" id="datepicker" [(ngModel)]="selectedDate">
        </div>
      </mat-card-content>
    </mat-card>
    
  
       <!-- Tasks Section -->
     <!-- Tasks Section -->
<mat-card class="mb-4" id="tasksSection">
  <mat-card-header class="d-flex align-items-center">
    <mat-icon class="me-2">assignment</mat-icon>
    <mat-card-title>Tareas</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <p>Aquí puedes asignar y revisar tareas de los alumnos.</p>

    <!-- Tareas enviadas por los alumnos -->
    <h3 class="mt-4">Tareas Enviadas por Alumnos</h3>
    <div class="list-group">
      <div *ngFor="let task of studentTasks" class="list-group-item list-group-item-action d-flex align-items-start">
        <div class="me-3">
          <mat-icon>assignment_turned_in</mat-icon>
        </div>
        <div>
          <h5 class="mb-1">{{ task.title }}</h5>
          <p class="mb-1"><strong>Alumno:</strong> {{ task.student }}</p>
          <p class="mb-1"><strong>Descripción:</strong> {{ task.description }}</p>
          <button mat-raised-button="" class="mt-2" (click)="reviewTask(task)">Revisar Tarea</button>
        </div>
      </div>
    </div>

    <!-- Botón para gestionar tareas -->
    <button mat-fab="primary" class="mt-3" (click)="openTaskManagerDialog()">Enviar tarea</button>
  </mat-card-content>
</mat-card>

      
  
  <!-- Documents Section -->
  <mat-card class="mb-4">
    <mat-card-header class="d-flex align-items-center">
      <mat-icon class="me-2">folder</mat-icon>
      <mat-card-title>Documentos</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>Aquí puedes subir y compartir documentos con los alumnos.</p>
      <button mat-flat-button color="warn" class="mt-3">Subir Documentos</button>
    </mat-card-content>
  </mat-card>
  
  <!-- Notifications Section -->
  <!-- Notifications Section -->
<mat-card class="mb-4">
  <mat-card-header class="d-flex align-items-center">
    <mat-icon class="me-2">notifications</mat-icon>
    <mat-card-title>Notificaciones</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-list>
      <mat-list-item *ngFor="let notification of notifications; let i = index" (click)="navigateToSection(notification)">
        <div class="notification-content">
          {{ notification }}
          <button mat-stroked-button class="ms-2" (click)="navigateToSection(notification, $event)">Ver más</button>
        </div>
        <mat-divider></mat-divider>
      </mat-list-item>
    </mat-list>
  </mat-card-content>
</mat-card>

      </main>
    </div>
  </div>