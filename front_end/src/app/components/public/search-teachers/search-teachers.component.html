<section>

  <div class="search-section text-center py-3 p-4 form1">
    <h2 class="display-4">Encuentra tu profe ideal</h2>
    <form   [formGroup]="searchForm" (ngSubmit)="getSearchForm()">
      <div class="d-flex flex-column justify-content-center  mt-4">
        <div>
          <h4>Seleccionar materia </h4>
        </div>
        <mat-button-toggle-group name="categories" aria-label="Categories"
          [hideMultipleSelectionIndicator]="hideMultipleSelectionIndicator()" multiple formControlName="selectedCategory">
  
          @for (category of allCategories; track $index) {<mat-button-toggle mat-raised-button color=""
            class="category-item me-3 d-flex align-items-start" type="button" [value]="category.id"
            [checked]="selectedCategory.includes(category.category_name)">
            <mat-icon class="icon-accent">{{category.description}}</mat-icon> {{ category.category_name }}
          </mat-button-toggle>}
        </mat-button-toggle-group>
      </div>
  
      <div class="input-group mt-4 justify-content-around align-items-start">
        <div>
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Nombre del profesor</mat-label>
            <input type="text" matInput [matAutocomplete]="autoName" formControlName="inputName">
            <mat-autocomplete #autoName="matAutocomplete">
              @for (teacher of filterName | async; track $index) {
              <mat-option [value]="teacher">{{teacher}}</mat-option>
              }
            </mat-autocomplete>
          </mat-form-field>
        </div>
        <div class=" d-flex align-self-center">
          <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style" formControlName="type" multiple>
            @for (modality of allModalities; track $index) {
              <mat-button-toggle [value]="modality.id">{{modality.type}}</mat-button-toggle>
            }
          </mat-button-toggle-group>
        </div>
  
        <div>
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Nombre de la ciudad</mat-label>
            <input type="text" matInput [matAutocomplete]="autoCity" formControlName="inputCity">
            <mat-autocomplete #autoCity="matAutocomplete" (optionSelected)="cityCenter()">
              @for (city of filterCity | async; track $index) {
              <mat-option [value]="city">{{city}}</mat-option>
              }
            </mat-autocomplete>
          </mat-form-field>
        </div>
      </div>
  
      <div class="row">
        <div class="col-4 align-self-start">
          <label>Selecciona tu radio de busqueda</label>
          <mat-slider min="1" max="15" step="1" showTickMarks discrete >
            <input matSliderThumb type="range" [value]="mapZoom" (input)="changeRadius($event)">
          </mat-slider>
          <label>{{mapZoom}}</label>
        </div>
        <div class="col-4 align-self-start">
          <label for="">Selecciona tu precio</label>
          <mat-slider min="100" max="1000" showTickMarks discrete>
            <input value="300" formControlName="minPrice" matSliderStartThumb>
            <input value="600" formControlName="maxPrice" matSliderEndThumb>
          </mat-slider>
        </div>
        <div class="col-4 align-self-start">
          <label for="">Selecciona la puntiacion</label>
          <mat-slider min="0" max="10" discrete>
            <input value="5" formControlName="score" matSliderThumb>
          </mat-slider>
          <label>{{searchForm.value.score}}</label>
        </div>
  
      </div>
     
        <button mat-raised-button>Buscar</button>


    </form>
    </div>






    <div  class="form2">
      <button class="mb-2" (click)="activeFilters()" mat-mini-fab aria-label="Example icon button with a menu icon">
        <mat-icon>menu</mat-icon>
      </button>


    <form [class.filterActive]="filterActive" [formGroup]="searchForm" (ngSubmit)="getSearchForm()">
      
      <div class="d-flex gap-2">

        <mat-form-field>
        <mat-label>Materia</mat-label>
        <mat-select formControlName="selectedCategory" multiple>
          @for (category of allCategories; track category.id) {
            <mat-option [value]="category.id">{{category.category_name}}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Modalidad</mat-label>
        <mat-select formControlName="selectedCategory" multiple>
          @for (modality of allModalities; track modality.id) {
            <mat-option [value]="modality.id">{{modality.type}}</mat-option>
          }
        </mat-select>
      </mat-form-field>

      </div>

      <div class="d-flex gap-2">

        <mat-form-field class="example-full-width" appearance="outline">
          <mat-label>Nombre de la ciudad</mat-label>
          <input type="text" matInput [matAutocomplete]="autoCity" formControlName="inputCity">
          <mat-autocomplete #autoCity="matAutocomplete" (optionSelected)="cityCenter()">
            @for (city of filterCity | async; track $index) {
            <mat-option [value]="city">{{city}}</mat-option>
            }
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="outline">
          <mat-label>Nombre del profesor</mat-label>
          <input type="text" matInput [matAutocomplete]="autoName" formControlName="inputName">
          <mat-autocomplete #autoName="matAutocomplete">
            @for (teacher of filterName | async; track $index) {
            <mat-option [value]="teacher">{{teacher}}</mat-option>
            }
          </mat-autocomplete>
        </mat-form-field>
      </div>
      
      <div>
        <div class="d-flex flex-column">
          <div class="d-flex justify-content-center" >
            <label>Radio de busqueda</label>
            <mat-slider min="1" max="15" step="1" showTickMarks discrete >
              <input matSliderThumb type="range" [value]="mapZoom" (input)="changeRadius($event)">
            </mat-slider>
       
          </div>
          <div class="d-flex justify-content-center" >
            <label for="">Precio</label>
            <mat-slider min="100" max="1000" showTickMarks discrete>
              <input value="300" formControlName="minPrice" matSliderStartThumb>
              <input value="600" formControlName="maxPrice" matSliderEndThumb>
            </mat-slider>
          </div>
          <div class="d-flex justify-content-center" >
            <label for="">Puntuaci√≥n</label>
            <mat-slider min="0" max="10" showTickMarks discrete="">
              <input value="5" formControlName="score" matSliderThumb>
            </mat-slider>
          
          </div>
    
        </div>
      </div>
    

<div class="d-flex justify-content-center mb-2">

  <button (click)="activeFilters()" class="float" mat-fab extended>
    <mat-icon class="back">search</mat-icon>
    Buscar
  </button>
</div>

      
    </form>
    <div>
    </div>
  </div>




</section>
